
close all;clear;clc

% K is camera internal matrix
K=[336.5284163681163, 0, 117.7561644786855;
  0, 334.6710168539478, 207.2730334866136;
  0, 0, 1];

uv1 = [
47, 228
46, 139
100, 189
137, 181
161, 254
179, 144
86, 338
53, 279
54, 191
85, 137
]';
uv2 = [
44, 209
56, 139
106, 187
147, 192
140, 280
190, 213
46, 354
37, 267
56, 182
101, 142
]';

tmp=[];
for i=1:8
    tmp=[tmp; uv1(1,i)*uv2(1,i), uv1(1,i)*uv2(2,i), uv1(1,i), uv1(2,i)*uv2(1,i), uv1(2,i)*uv2(2,i), uv1(2,i), uv2(1,i), uv2(2,i), 1];
end

y=null( tmp, rank(tmp) );
y=y';

F=[y(1:3); y(4:6); y(7:9)];

E=K'*F*K;

[U, S, V] = svd(E)
